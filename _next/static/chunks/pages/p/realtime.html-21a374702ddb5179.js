(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[458],{9334:function(e,t,n){"use strict";var r=n(3366),i=n(7462),s=n(7294),a=n(6010),o=n(4780),c=n(5861),l=n(9773),u=n(1657),d=n(948),h=n(6336),f=n(5893);let m=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],x=e=>{let{classes:t,inset:n,primary:r,secondary:i,dense:s}=e;return(0,o.Z)({root:["root",n&&"inset",s&&"dense",r&&i&&"multiline"],primary:["primary"],secondary:["secondary"]},h.L,t)},g=(0,d.ZP)("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[{[`& .${h.Z.primary}`]:t.primary},{[`& .${h.Z.secondary}`]:t.secondary},t.root,n.inset&&t.inset,n.primary&&n.secondary&&t.multiline,n.dense&&t.dense]}})(({ownerState:e})=>(0,i.Z)({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},e.primary&&e.secondary&&{marginTop:6,marginBottom:6},e.inset&&{paddingLeft:56})),p=s.forwardRef(function(e,t){let n=(0,u.Z)({props:e,name:"MuiListItemText"}),{children:o,className:d,disableTypography:h=!1,inset:p=!1,primary:y,primaryTypographyProps:v,secondary:b,secondaryTypographyProps:$}=n,Z=(0,r.Z)(n,m),{dense:w}=s.useContext(l.Z),S=null!=y?y:o,j=b,M=(0,i.Z)({},n,{disableTypography:h,inset:p,primary:!!S,secondary:!!j,dense:w}),k=x(M);return null==S||S.type===c.Z||h||(S=(0,f.jsx)(c.Z,(0,i.Z)({variant:w?"body2":"body1",className:k.primary,component:null!=v&&v.variant?void 0:"span",display:"block"},v,{children:S}))),null==j||j.type===c.Z||h||(j=(0,f.jsx)(c.Z,(0,i.Z)({variant:"body2",className:k.secondary,color:"text.secondary",display:"block"},$,{children:j}))),(0,f.jsxs)(g,(0,i.Z)({className:(0,a.Z)(k.root,d),ownerState:M,ref:t},Z,{children:[S,j]}))});t.Z=p},7484:function(e){var t,n,r,i,s,a,o,c,l,u,d,h,f,m,x,g,p,y,v,b,$,Z;e.exports=(t="millisecond",n="second",r="minute",i="hour",s="week",a="month",o="quarter",c="year",l="date",u="Invalid Date",d=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,h=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,f=function(e,t,n){var r=String(e);return!r||r.length>=t?e:""+Array(t+1-r.length).join(n)+e},(x={})[m="en"]={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],n=e%100;return"["+e+(t[(n-20)%10]||t[n]||"th")+"]"}},g="$isDayjsObject",p=function(e){return e instanceof $||!(!e||!e[g])},y=function e(t,n,r){var i;if(!t)return m;if("string"==typeof t){var s=t.toLowerCase();x[s]&&(i=s),n&&(x[s]=n,i=s);var a=t.split("-");if(!i&&a.length>1)return e(a[0])}else{var o=t.name;x[o]=t,i=o}return!r&&i&&(m=i),i||!r&&m},v=function(e,t){if(p(e))return e.clone();var n="object"==typeof t?t:{};return n.date=e,n.args=arguments,new $(n)},(b={s:f,z:function(e){var t=-e.utcOffset(),n=Math.abs(t);return(t<=0?"+":"-")+f(Math.floor(n/60),2,"0")+":"+f(n%60,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var r=12*(n.year()-t.year())+(n.month()-t.month()),i=t.clone().add(r,a),s=n-i<0,o=t.clone().add(r+(s?-1:1),a);return+(-(r+(n-i)/(s?i-o:o-i))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return({M:a,y:c,w:s,d:"day",D:l,h:i,m:r,s:n,ms:t,Q:o})[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}}).l=y,b.i=p,b.w=function(e,t){return v(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})},Z=($=function(){function e(e){this.$L=y(e.locale,null,!0),this.parse(e),this.$x=this.$x||e.x||{},this[g]=!0}var f=e.prototype;return f.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(b.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var r=t.match(d);if(r){var i=r[2]-1||0,s=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)}}return new Date(t)}(e),this.init()},f.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},f.$utils=function(){return b},f.isValid=function(){return this.$d.toString()!==u},f.isSame=function(e,t){var n=v(e);return this.startOf(t)<=n&&n<=this.endOf(t)},f.isAfter=function(e,t){return v(e)<this.startOf(t)},f.isBefore=function(e,t){return this.endOf(t)<v(e)},f.$g=function(e,t,n){return b.u(e)?this[t]:this.set(n,e)},f.unix=function(){return Math.floor(this.valueOf()/1e3)},f.valueOf=function(){return this.$d.getTime()},f.startOf=function(e,t){var o=this,u=!!b.u(t)||t,d=b.p(e),h=function(e,t){var n=b.w(o.$u?Date.UTC(o.$y,t,e):new Date(o.$y,t,e),o);return u?n:n.endOf("day")},f=function(e,t){return b.w(o.toDate()[e].apply(o.toDate("s"),(u?[0,0,0,0]:[23,59,59,999]).slice(t)),o)},m=this.$W,x=this.$M,g=this.$D,p="set"+(this.$u?"UTC":"");switch(d){case c:return u?h(1,0):h(31,11);case a:return u?h(1,x):h(0,x+1);case s:var y=this.$locale().weekStart||0,v=(m<y?m+7:m)-y;return h(u?g-v:g+(6-v),x);case"day":case l:return f(p+"Hours",0);case i:return f(p+"Minutes",1);case r:return f(p+"Seconds",2);case n:return f(p+"Milliseconds",3);default:return this.clone()}},f.endOf=function(e){return this.startOf(e,!1)},f.$set=function(e,s){var o,u=b.p(e),d="set"+(this.$u?"UTC":""),h=((o={}).day=d+"Date",o[l]=d+"Date",o[a]=d+"Month",o[c]=d+"FullYear",o[i]=d+"Hours",o[r]=d+"Minutes",o[n]=d+"Seconds",o[t]=d+"Milliseconds",o)[u],f="day"===u?this.$D+(s-this.$W):s;if(u===a||u===c){var m=this.clone().set(l,1);m.$d[h](f),m.init(),this.$d=m.set(l,Math.min(this.$D,m.daysInMonth())).$d}else h&&this.$d[h](f);return this.init(),this},f.set=function(e,t){return this.clone().$set(e,t)},f.get=function(e){return this[b.p(e)]()},f.add=function(e,t){var o,l=this;e=Number(e);var u=b.p(t),d=function(t){var n=v(l);return b.w(n.date(n.date()+Math.round(t*e)),l)};if(u===a)return this.set(a,this.$M+e);if(u===c)return this.set(c,this.$y+e);if("day"===u)return d(1);if(u===s)return d(7);var h=((o={})[r]=6e4,o[i]=36e5,o[n]=1e3,o)[u]||1,f=this.$d.getTime()+e*h;return b.w(f,this)},f.subtract=function(e,t){return this.add(-1*e,t)},f.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return n.invalidDate||u;var r=e||"YYYY-MM-DDTHH:mm:ssZ",i=b.z(this),s=this.$H,a=this.$m,o=this.$M,c=n.weekdays,l=n.months,d=n.meridiem,f=function(e,n,i,s){return e&&(e[n]||e(t,r))||i[n].slice(0,s)},m=function(e){return b.s(s%12||12,e,"0")},x=d||function(e,t,n){var r=e<12?"AM":"PM";return n?r.toLowerCase():r};return r.replace(h,function(e,r){return r||function(e){switch(e){case"YY":return String(t.$y).slice(-2);case"YYYY":return b.s(t.$y,4,"0");case"M":return o+1;case"MM":return b.s(o+1,2,"0");case"MMM":return f(n.monthsShort,o,l,3);case"MMMM":return f(l,o);case"D":return t.$D;case"DD":return b.s(t.$D,2,"0");case"d":return String(t.$W);case"dd":return f(n.weekdaysMin,t.$W,c,2);case"ddd":return f(n.weekdaysShort,t.$W,c,3);case"dddd":return c[t.$W];case"H":return String(s);case"HH":return b.s(s,2,"0");case"h":return m(1);case"hh":return m(2);case"a":return x(s,a,!0);case"A":return x(s,a,!1);case"m":return String(a);case"mm":return b.s(a,2,"0");case"s":return String(t.$s);case"ss":return b.s(t.$s,2,"0");case"SSS":return b.s(t.$ms,3,"0");case"Z":return i}return null}(e)||i.replace(":","")})},f.utcOffset=function(){return-(15*Math.round(this.$d.getTimezoneOffset()/15))},f.diff=function(e,t,l){var u,d=this,h=b.p(t),f=v(e),m=(f.utcOffset()-this.utcOffset())*6e4,x=this-f,g=function(){return b.m(d,f)};switch(h){case c:u=g()/12;break;case a:u=g();break;case o:u=g()/3;break;case s:u=(x-m)/6048e5;break;case"day":u=(x-m)/864e5;break;case i:u=x/36e5;break;case r:u=x/6e4;break;case n:u=x/1e3;break;default:u=x}return l?u:b.a(u)},f.daysInMonth=function(){return this.endOf(a).$D},f.$locale=function(){return x[this.$L]},f.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),r=y(e,t,!0);return r&&(n.$L=r),n},f.clone=function(){return b.w(this.$d,this)},f.toDate=function(){return new Date(this.valueOf())},f.toJSON=function(){return this.isValid()?this.toISOString():null},f.toISOString=function(){return this.$d.toISOString()},f.toString=function(){return this.$d.toUTCString()},e}()).prototype,v.prototype=Z,[["$ms",t],["$s",n],["$m",r],["$H",i],["$W","day"],["$M",a],["$y",c],["$D",l]].forEach(function(e){Z[e[1]]=function(t){return this.$g(t,e[0],e[1])}}),v.extend=function(e,t){return e.$i||(e(t,$,v),e.$i=!0),v},v.locale=y,v.isDayjs=p,v.unix=function(e){return v(1e3*e)},v.en=x[m],v.Ls=x,v.p={},v)},1323:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/p/realtime.html",function(){return n(2612)}])},2612:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return G}});var r=n(5893),i=n(6822),s=n(6886),a=n(1163),o=n(7294),c=n(7274),l=n(6455),u=n.n(l),d=n(6242),h=n(5861),f=n(4267),m=n(9878),x=n(410);let g=e=>{let{sx:t,icon:n,stats:s,title:a,avatarSize:o=42,iconSize:c="1.625rem",avatarColor:l="primary"}=e;return(0,r.jsx)(d.Z,{sx:{...t},children:(0,r.jsxs)(f.Z,{sx:{gap:3,display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,r.jsxs)(i.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-start"},children:[(0,r.jsx)(h.Z,{variant:"h5",sx:{mb:.5},children:s}),(0,r.jsx)(h.Z,{variant:"body2",children:a})]}),(0,r.jsx)(x.Z,{skin:"light",color:l,sx:{width:o,height:o},children:(0,r.jsx)(m.Z,{icon:n,fontSize:c})})]})})},p=e=>{let{statistic:t}=e,n=[{stats:null==t?void 0:t.total,icon:"tabler:list-check",title:"Số b\xe0i l\xe0m"},{stats:null==t?void 0:t.students,icon:"tabler:users",title:"Số học sinh",avatarColor:"success"},{stats:null==t?void 0:t.points,avatarColor:"error",title:"Điểm trung b\xecnh",icon:"tabler:circle-check"},{stats:null==t?void 0:t.times,title:"Thời gian trung b\xecnh",avatarColor:"warning",icon:"tabler:clock"}];return(0,r.jsx)(s.ZP,{container:!0,spacing:6,children:n.map((e,t)=>(0,r.jsx)(s.ZP,{item:!0,xs:12,md:3,children:(0,r.jsx)(g,{...e})},t))})};var y=n(6901),v=n(8445),b=n(3321),$=n(7484),Z=n.n($),w=n(948),S=n(6476),j=n(1964),M=n.n(j);let k=(0,w.ZP)(i.Z)(e=>{let{theme:t}=e;return{display:"flex",alignItems:"center",padding:t.spacing(2.5),boxShadow:t.shadows[1],justifyContent:"space-between",borderRadius:t.shape.borderRadius,backgroundColor:t.palette.background.paper}}),D=(0,w.ZP)(i.Z)(e=>{let{theme:t}=e;return{padding:t.spacing(0,5,5),marginTop:5}}),C=(0,w.ZP)(M())(e=>{let{theme:t}=e;return{padding:t.spacing(5)}}),T=e=>{let{logs:t}=e,[n,s]=(0,o.useState)();(0,o.useEffect)(()=>{let e=setInterval(()=>{s(Z()().format("HH:mm:ss DD/MM/YYYY"))},1e3);return()=>{clearInterval(e)}},[]),(0,o.useEffect)(()=>{c()},[t]);let a=(0,o.useRef)(null),c=()=>{a.current&&(a.current._container.scrollTop=a.current._container.scrollHeight)},l=(0,o.useMemo)(()=>t.map((e,t)=>(0,r.jsxs)(i.Z,{sx:{display:"flex",flexDirection:e.admin?"row-reverse":"row",alignItems:"center",mb:2},children:[(0,r.jsx)(x.Z,{children:e.admin?"GV":e.label}),(0,r.jsxs)(y.Z,{severity:"success",icon:!1,sx:{mr:e.admin?2:void 0,ml:e.admin?void 0:2},children:[(0,r.jsx)(h.Z,{variant:"h6",sx:{fontWeight:600},dangerouslySetInnerHTML:{__html:e.text}}),(0,r.jsx)("div",{style:{textAlign:e.admin?"right":"left"},children:(0,r.jsx)(h.Z,{variant:"body",sx:{fontSize:"0.75rem"},children:Z()(e.t).format("HH:mm:ss DD/MM/YYYY")})})]})]},e.id+t)),[t]);return(0,r.jsxs)(d.Z,{children:[(0,r.jsx)(v.Z,{title:(0,r.jsx)(h.Z,{variant:"h4",children:"Nhật k\xfd hoạt động"}),action:(0,r.jsxs)(b.Z,{variant:"tonal",children:["Cập nhật l\xfac ",n]})}),(0,r.jsxs)(i.Z,{sx:{flexGrow:1,height:"100%",backgroundColor:"action.hover"},children:[(0,r.jsx)(C,{ref:a,children:(0,r.jsx)(i.Z,{sx:{height:"50vh"},children:l})}),(0,r.jsx)(D,{children:(0,r.jsxs)(k,{children:[(0,r.jsx)(i.Z,{sx:{flexGrow:1,display:"flex",alignItems:"center"},children:(0,r.jsx)(S.Z,{fullWidth:!0,placeholder:"Type your message here…",sx:{"& .Mui-focused":{boxShadow:"none !important"},"& .MuiInputBase-input:not(textarea).MuiInputBase-inputSizeSmall":{p:e=>e.spacing(1.875,2.5)},"& .MuiInputBase-root":{border:"0 !important"}}})}),(0,r.jsx)(i.Z,{sx:{display:"flex",alignItems:"center"},children:(0,r.jsx)(b.Z,{type:"submit",variant:"contained",startIcon:(0,r.jsx)(m.Z,{icon:"tabler:send"}),children:"Gửi"})})]})})]})]})};var O=n(8462),_=n(9294),I=n(8987),N=n(8619),H=n(8885),Y=n(3395),P=n(9334),B=n(8333),W=n(8972);let R=e=>Math.floor(e/36e5).toString().padStart(2,"0")+":"+Math.floor((e%=36e5)/6e4).toString().padStart(2,"0")+":"+Math.floor((e%=6e4)/1e3).toString().padStart(2,"0"),L=(0,w.ZP)(M())(e=>{let{theme:t}=e;return{padding:t.spacing(5)}}),E=e=>{let{students:t,handleClick:n}=e,[s,a]=(0,o.useState)(null),[c,l]=(0,o.useState)(null),[u,f]=(0,o.useState)(new Date().getTime()),g=()=>{a(null)},p=e=>t=>{a(t.currentTarget),l(e)},y=e=>t=>{n(c.id,e),a(null),l(null)};(0,o.useEffect)(()=>{let e=setInterval(()=>{f(new Date().getTime())},1e3);return()=>{clearInterval(e)}},[t]);let b=(0,o.useRef)(null);return(0,r.jsxs)(d.Z,{children:[(0,r.jsx)(v.Z,{title:(0,r.jsxs)(h.Z,{variant:"h4",children:["Học sinh đang l\xe0m (",t.length,")"]})}),(0,r.jsx)(i.Z,{sx:{flexGrow:1,height:"100%",backgroundColor:"action.hover"},children:(0,r.jsx)(L,{ref:b,children:(0,r.jsx)(i.Z,{sx:{height:"62vh"},children:(0,r.jsx)(O.Z,{children:t.map(e=>(0,r.jsx)(_.ZP,{disablePadding:!0,divider:!0,onClick:p(e),children:(0,r.jsxs)(N.Z,{children:[(0,r.jsx)(I.Z,{children:(0,r.jsx)(x.Z,{color:null==e?void 0:e.color,children:e.label})}),(0,r.jsx)(P.Z,{children:e.student}),(0,r.jsxs)(Y.Z,{sx:{textAlign:"center"},children:[(0,r.jsxs)(h.Z,{children:["Đ\xe3 l\xe0m ",e.taked]}),(0,r.jsx)(h.Z,{color:"error",fontWeight:600,children:R(u-e.startAt)})]})]})},e.id))})})})}),(null==t?void 0:t.length)?(0,r.jsx)(B.Z,{anchorEl:s,keepMounted:!0,open:!!s,onClose:g,children:[{action:"alert",title:"Nhắc nhở quay lại b\xe0i thi",icon:"tabler:bell-plus",show:!1},{action:"message",title:"Gửi lời nhắn ri\xeang",icon:"tabler:message-chatbot",show:!1},{action:"cancel",title:"Buộc dừng b\xe0i thi",icon:"tabler:user-cancel",show:!0}].map(e=>!e.show&&(null==c?void 0:c.status)!="offline"||e.show?(0,r.jsxs)(W.Z,{onClick:y(e.action),children:[(0,r.jsx)(H.Z,{children:(0,r.jsx)(m.Z,{icon:e.icon,fontSize:20})}),(0,r.jsx)(P.Z,{children:e.title})]},e.action):null)}):null]})};var A=n(1649),V=n(7052);let z=()=>{let e=(0,a.useRouter)(),t=(0,A.I0)(),n=(0,o.useRef)(null),l=(0,o.useRef)(null),[d,h]=(0,o.useState)({exams:null,results:[],labels:[],time:null}),[f,m]=(0,o.useState)({}),[x,g]=(0,o.useState)([]),[y,v]=(0,o.useState)([]);(0,o.useEffect)(()=>{(null==d?void 0:d.currents)&&n.current.postMessage({action:"currentRealtime",payload:d}),(null==d?void 0:d.logs)&&n.current.postMessage({action:"logsRealtime",payload:d}),(null==d?void 0:d.events)&&n.current.postMessage({action:"eventsRealtime",payload:d})},[d]),(0,o.useEffect)(()=>{t((0,V.V)({status:"Đang tải..."}));let r=async()=>{try{let{parent:t="",id:r=""}=e.query;if(!r)return e.push("/");await c.default.get("/leaderboard/".concat(r,"/timeout"));let{data:i}=await c.default.get("/quizs/".concat(r,"/details?parent=").concat(t)),{data:s}=await c.default.get("/leaderboard/".concat(r,"?parent=").concat(t));if((null==i?void 0:i.error)||(null==s?void 0:s.error))return u().fire({icon:"error",title:"Oops...",text:(null==i?void 0:i.error)||(null==s?void 0:s.error),footer:'<a href="#">Tại sao t\xf4i gặp th\xf4ng b\xe1o n\xe0y?</a>'}),e.push("/");n.current.postMessage({action:"fetchRealtime",payload:{response:i,results:s}})}catch(e){console.log("fetchData",e.message)}},i=()=>{l.current&&l.current.close();let{parent:t="",id:n=""}=e.query,r="".concat("wss://cloud.taodethi.xyz","/socket?id=").concat(n,"&accessToken=").concat(localStorage.getItem("accessToken")||"");l.current=new WebSocket(r),l.current.onopen=()=>{console.log("Connected Socket")},l.current.onclose=e=>{console.log("Disconnected from server",e)},l.current.onerror=e=>{console.error("WebSocket error:",e)},l.current.onmessage=e=>{try{let{action:t,payload:n,ResultId:r,time:i}=JSON.parse(e.data);switch(t){case"current":h(e=>({...e,currents:n}));break;case"visible":case"hidden":case"online":case"offline":h(e=>({...e,logs:{payload:n,ResultId:r,time:i,action:t}}));break;case"submit":case"start":case"answers":h(e=>({...e,events:{payload:n,ResultId:r,time:i,action:t}}))}}catch(e){console.log("onmessage",e.message)}}};return e.isReady&&(n.current&&n.current.terminate(),n.current=new Worker("/scripts/worker.js"),n.current.onmessage=async e=>{let{action:n="",payload:r=null}=e.data;switch(console.log("onmessage",e.data),n){case"fetchLeaderboard":h(r),i(),t((0,V.V)({status:""}));break;case"logsRealtime":g(r);break;case"statistic":m(r);break;case"studentsRealtime":v(r);break;case"updateRealtime":h(e=>({...e,...r,currents:void 0,logs:void 0,events:void 0}))}},r()),()=>{n.current&&n.current.terminate(),l.current&&l.current.close()}},[e]);let b=(e,t)=>{let n=y.find(t=>e==t.id);if(!n)return u().fire({icon:"error",title:"Oppss...",html:"Kh\xf4ng t\xecm thấy th\xf4ng tin"});switch(t){case"alert":u().fire({icon:"warning",title:"Ch\xfa \xfd",html:'Bạn muốn nhắc nhở bạn <b style="color:red">'.concat(n.student,"</b> quay lại l\xe0m b\xe0i thi ngay?"),showCancelButton:!0,cancelButtonText:"Hủy",cancelButtonColor:"#d33",confirmButtonText:"Đ\xfang vậy"}).then(e=>{if(e.isConfirmed){var t,r;(null==l?void 0:null===(t=l.current)||void 0===t?void 0:t.readyState)===WebSocket.OPEN?(null==l||null===(r=l.current)||void 0===r||r.send(JSON.stringify({action:"alert",payload:{clientId:n.clientId,resultId:n.id}})),u().fire("Đ\xe3 gửi!","","success")):u().fire("Vui l\xf2ng kết nối mạng","","error")}});break;case"message":u().fire({html:'Gửi lời nhắn đến bạn <b style="color:red">'.concat(n.student,"</b>"),input:"text",inputAttributes:{autocapitalize:"off"},showCancelButton:!0,confirmButtonText:"Gửi ngay",showLoaderOnConfirm:!0,preConfirm:async e=>{if(!e.toString().trim())return u().showValidationMessage("Vui l\xf2ng nhập nội dung")},allowOutsideClick:()=>!u().isLoading()}).then(e=>{if(e.isConfirmed){var t,r;(null==l?void 0:null===(t=l.current)||void 0===t?void 0:t.readyState)===WebSocket.OPEN?(null==l||null===(r=l.current)||void 0===r||r.send(JSON.stringify({action:"cancel",payload:{clientId:n.clientId,resultId:n.id,message:e.value.login}})),u().fire("Đ\xe3 gửi!","","success")):u().fire("Vui l\xf2ng kết nối mạng","","error")}});break;case"cancel":u().fire({icon:"warning",title:"Kết th\xfac b\xe0i thi",html:'Bạn muốn Kết th\xfac b\xe0i thi của th\xed sinh <b style="color:red">'.concat(n.student,"</b>?"),showCancelButton:!0,cancelButtonText:"Hủy",cancelButtonColor:"#d33",confirmButtonText:"Đ\xfang vậy"}).then(e=>{if(e.isConfirmed){var t,r;(null==l?void 0:null===(t=l.current)||void 0===t?void 0:t.readyState)===WebSocket.OPEN?(null==l||null===(r=l.current)||void 0===r||r.send(JSON.stringify({action:"cancel",payload:{clientId:n.clientId,resultId:n.id}})),u().fire("Đ\xe3 gửi!","","success")):u().fire("Vui l\xf2ng kết nối mạng","","error")}})}};return(0,r.jsxs)(i.Z,{children:[(0,r.jsx)(p,{statistic:f}),(0,r.jsxs)(s.ZP,{container:!0,spacing:3,sx:{mt:3},children:[(0,r.jsx)(s.ZP,{item:!0,xs:12,md:6,children:(0,r.jsx)(T,{logs:x})}),(0,r.jsx)(s.ZP,{item:!0,xs:12,md:6,children:(0,r.jsx)(E,{students:y,handleClick:b})})]})]})};var G=()=>(0,r.jsx)(z,{})}},function(e){e.O(0,[125,643,774,888,179],function(){return e(e.s=1323)}),_N_E=e.O()}]);